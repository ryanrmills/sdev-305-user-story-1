<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GRC PAI Report</title>
    <link rel="stylesheet" href="https://cdn.datatables.net/2.3.4/css/dataTables.dataTables.min.css">
    <script src="//code.jquery.com/jquery-3.7.1.js"></script>
    <script src="//cdn.datatables.net/2.3.4/js/dataTables.min.js"></script>

    <link rel="stylesheet" href="./../styles/summary.css">
    <link rel="stylesheet" href="./../styles/nav.css">
    <script src="./../js/summary.js" defer></script>
  </head>
  <body>
    <%- include('partials/nav') %>
    <main>
        <section class="summary-table-card">

          <p id="table-summary-instruction">Click on a row to edit.</p>
          <table id="loc-table" class="display summary-table">
            <thead>
                <tr> 
                  <!-- This is the hidden ID variable used to identify what needs to be changed in the Database -->
                    <th>ID</th>
                    <th>Academic Program</th>
                    <th>Division</th>
                    <th>Division Chair</th>
                    <th>Dean</th>
                    <th>LOC Rep</th>
                    <th>PEN Contact</th>
                    <th>Payee(s)</th>
                    <th>Has Been Paid</th>
                    <th>Report Submitted</th>
                    <th>Notes</th>
                </tr>
            </thead>
            <tbody>
                <% LOCData.forEach(entry => { %>

                <tr>
                  <!-- This is the hidden ID variable used to identify what needs to be changed in the Database -->
                    <td><%= entry.id%></td>
                    <td><%= entry.academic_program %></td>
                    <td><%= entry.division %></td>
                    <td><%= entry.division_chair %></td>
                    <td><%= entry.dean %></td>
                    <td><%= entry.loc_rep %></td>
                    <td><%= entry.pen_contact %></td>
                    <td><%= entry.payees %></td>
                    <td><%= entry.has_been_paid%></td>
                    <td><%= entry.report_submitted%></td>
                    <td><%= entry.notes %></td>
                </tr>

                <% }); %>

            </tbody>
          </table>
        </section>
        <div id="summary-edit" aria-hidden="true">
          <div class="form-card summary-edit__card" role="dialog" aria-modal="true" aria-labelledby="summary-edit-title">
            <form action="submit-data" method="post" id="summary-edit-form" novalidate>
              <div class="form-card__header">
                <div class="form-card__headline">
                  <h2 class="form-card__title" id="summary-edit-title">Edit Program</h2>
                  <p id="please-select-program">Please select a program</p>
                </div>
                <div class="summary-edit__actions">
                  <button type="submit" id="summary-submit" class="buttons">Submit</button>
                  <button type="reset" id="summary-cancel" class="buttons">Cancel</button>
                </div>
              </div>

              <div id="edit-field">
                <fieldset class="PAI-input">
                  <label for="division-summary">Division*</label>
                  <span id="err-division" class="error">Division cannot be blank.<br></span>
                  <input type="text" name="division-summary" id="division-summary" autocomplete="off">
                </fieldset>
                <fieldset class="PAI-input">
                  <label for="program-summary">Academic Program*</label>
                  <span id="err-program" class="error">Academic Program cannot be blank.<br></span>
                  <input type="text" name="program-summary" id="program-summary" autocomplete="off">
                </fieldset>
                <fieldset class="PAI-input">
                  <label for="payee-summary">Payee(s)</label>
                  <span id="err-payee" class="error">Payee(s) cannot be blank.<br></span>
                  <input type="text" name="payee-summary" id="payee-summary" autocomplete="off">
                </fieldset>
                <fieldset class="PAI-input">
                  <label for="paid-summary">Has been paid? (Yes/No)*</label>
                  <span id="err-paid" class="error">Enter Yes or No.<br></span>
                  <input type="text" name="paid-summary" id="paid-summary" autocomplete="off" inputmode="text">
                </fieldset>
                <fieldset class="PAI-input">
                  <label for="report-summary">Report Submitted? (Yes/No)*</label>
                  <span id="err-report" class="error">Enter Yes or No.<br></span>
                  <input type="text" name="report-summary" id="report-summary" autocomplete="off" inputmode="text">
                </fieldset>
                <fieldset class="PAI-input">
                  <label for="notes-summary">Notes</label>
                  <span id="err-notes" class="error">Notes must be 500 characters or fewer.<br></span>
                  <input type="text" name="notes-summary" id="notes-summary" autocomplete="off" maxlength="500">
                </fieldset>
                  <!-- This is the hidden ID variable input used to pass the number back to the server so it can indentify the row -->
                  <input type="hidden" value="" name="id-summary" id="id-summary" />
              </div>
            </form>
          </div>
        </div>

    </main>
  </body>
</html>
